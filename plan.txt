Messed...

has a loop -> paths.. dispatching



listens to a source
dispatches to the loop
responds (optionally)
goes back to listening.


class Hello
  
  def say
    say "you're super awesome"
  end
  
  def jerks
    say "you're super awesome jerk"
  end
  
end

Messed.new do 
  for 'hey you', :class => 'hello', :action => 'say'
  for 'hey you jerks', :class => 'hello', action => 'jerks'
  for 'hey you', :requirements => {:source => :from_friends} do
    say 'hey hey'
    reply 'nice to see you guy'
    whisper 'okay sure'
  end
end


TODO
 - [BG] Deal with duplicate messages. Consider a message "duplicate" if the sender and content is the same and it was sent within 30 seconds of the previous duplicate message.